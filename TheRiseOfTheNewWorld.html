<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The Rise of the New World</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="Resources/HeeHo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src=".\ROTNW.js"></script>
    <link rel="stylesheet" href=".\ROTNW.css">


</head>



<body class="" id="app">

    <div class="totalBackground h-screen w-screen overflow-hidden p-1 select-none hidden lg:block">


        <!-- Intro Message -->
        <div class="w-full h-full bg-black flex flex-col items-center justify-center" v-if="introTab < 0 && !started"
            @click="introTab = 0, startingAmbience.play(), startReading('You will soon be ready to begin the game. \n \n First, we must bring some information to your understanding')">
            <p class="text-white font-mono font-bold">Click anywhere to begin</p>
        </div>

        <!-- Creation Screen -->
        <div class="w-full h-full totalBackground flex flex-col items-center justify-center" v-if="!started"
            v-if="introTab >= 0">
            <div class="h-3/4 w-3/4 p-5 ring-2 ring-cyan-300 rounded-3xl bg-slate-900 relative floating-panel">

                <div class="text-white" v-if="introTab == 0">
                    <h1 class="border-b-2 border-indigo-500 text-5xl font-bold mb-5 ">Welcome to The Rise of the New
                        World
                    </h1>
                    <p class="text-lg overflow-y-scroll whitespace-pre-line">{{readingText}}</p>
                    <button class="absolute bottom-5 right-5 bg-emerald-500 px-5 py-4 rounded-2xl font-bold"
                        @click="startReading(' This is a piece of fiction with references to religion, mythology, philosophical themes, morality, etc.  \n \n In order to fully explore these ideas and what they mean, this game may explore dark themes. Such themes may include - but are not limited to - violence, gore, torture, sexual violence, prejudice, sacrilegious acts, cruelty, psychological horror, and violence against women, children, & animals. \n \n By pressing accept, you state that you are the age of majority in your country and agree to participate in a game with such themes \n \n \n \n \n \n \n \n \n \n \n \n (In addition, you agree to hold no other parties responsible for any negative effects from this game) '), introTab++">Next</button>
                </div>
                <div class="text-white" v-if="introTab == 1">
                    <h1 class="border-b-2 border-indigo-500 text-5xl font-bold mb-5">Acknowledgements</h1>
                    <p class="text-lg overflow-y-scroll whitespace-pre-line">{{readingText}}</p>
                    <button class="absolute bottom-5 right-5 bg-emerald-500 px-5 py-4 rounded-2xl font-bold"
                        @click="startReading('Excellent, thank you for your cooperation :\) \n \n Don\'t fret, we will do our best to ensure you are properly taken are of. But, we must get to know you better first.  \n \n What is your name, your actual and true name? (Don\'t worry, we only need your first name, but it is very important)'), introTab++">Accept</button>
                </div>
                <div class="text-white" v-if="introTab == 2">
                    <h1 class="border-b-2 border-indigo-500 text-5xl font-bold mb-5">The terms have been agreed upon
                    </h1>
                    <p class="text-lg overflow-y-scroll whitespace-pre-line">{{readingText}}</p>
                    <button class="absolute bottom-5 right-5 bg-emerald-500 px-5 py-4 rounded-2xl font-bold"
                        @click="startReading('What is your first name?'), introTab++">Next</button>
                </div>
                <div class="text-white" v-if="introTab == 3">
                    <h1 class="border-b-2 border-indigo-500 text-5xl font-bold mb-5 ">Let's get to know <span
                            class="italic">you</span></h1>
                    <p class="text-lg overflow-y-scroll whitespace-pre-line m-y-5">{{readingText}}</p>
                    <input type="text" name="" id="" class="rounded-2xl ring-2 ring-cyan-400 p-3 bg-indigo-950 my-5"
                        v-model="characterCreator.playerName">
                    <p class="text-lg overflow-y-scroll whitespace-pre-line m-t-5">Your character's full name (it should
                        be
                        different from your real name)</p>
                    <input type="text" name="" id="" class="rounded-2xl ring-2 ring-cyan-400 p-3 bg-indigo-950 my-5"
                        v-model="characterCreator.characterName">
                    <p class="text-lg overflow-y-scroll whitespace-pre-line m-t-5">An image of your character, ensure
                        it's a
                        link, not a directory</p>
                    <input type="text" name="" id="" class="rounded-2xl ring-2 ring-cyan-400 p-3 bg-indigo-950 my-5"
                        v-model="characterCreator.icon">
                    <img :src="characterCreator.icon"
                        class="pixel-art aspect-square h-40 rounded-full ring-2 ring-white " alt="">
                    <button class="absolute bottom-5 right-5 bg-emerald-500 px-5 py-4 rounded-2xl font-bold"
                        @click="startReading('This is a role playing game, the character you will be playing will have the same general beliefs, ideals, morality, etc as you. Your character should be a reflection of yourself, but aged to 20, but you can feel free to change some details like your appearance and tastes \n \n We will now get to know your character'), introTab++">Confirm</button>
                </div>

                <!-- Player Name -->
                <div class="text-white" v-if="introTab == 4">


                    <h1 class="border-b-2 border-indigo-500 text-5xl font-bold mb-5 ">{{characterCreator.playerName}}
                    </h1>
                    <p class="text-lg overflow-y-scroll whitespace-pre-line m-y-5">Nice to meet you
                        {{characterCreator.playerName}}</p>
                    <p class="text-lg overflow-y-scroll whitespace-pre-line m-y-5">{{readingText}}</p>

                    <button class="absolute bottom-5 right-5 bg-emerald-500 px-5 py-4 rounded-2xl font-bold"
                        @click="startReading(''), introTab++">Next</button>
                </div>


                <!-- Character Info -->
                <div class="text-white" v-if="introTab == 5">
                    <h1 class="border-b-2 border-indigo-500 text-5xl font-bold mb-5 ">About you</h1>
                    <p class="text-lg font-bold text-emerald-400 overflow-y-scroll whitespace-pre-line mt-5">What is
                        your
                        biological sex?</p>
                    <div class="flex flex-wrap gap-2 mb-3">
                        <div class="flex items-center space-x-2">
                            <input type="radio" :id="'religion-' + index" name="selectedSex" value="Male"
                                v-model="characterCreator.sex" class="accent-indigo-500" />
                            <label :for="'religion-' + index" class="text-white font-medium">
                                {{ "Male" }}
                            </label>
                            <input type="radio" :id="'religion-' + index" name="selectedSex" value="Female"
                                v-model="characterCreator.sex" class="accent-indigo-500" />
                            <label :for="'religion-' + index" class="text-white font-medium">
                                {{ "Female" }}
                            </label>
                        </div>
                    </div>


                    <!-- Religion -->
                    <p class="text-lg font-bold text-emerald-400 overflow-y-scroll whitespace-pre-line mt-5">What is
                        your
                        religion?</p>
                    <div class="flex flex-wrap gap-4">
                        <div v-for="(religion, index) in characterCreator.religions" :key="index"
                            class="flex items-center space-x-2">
                            <input type="radio" :id="'religion-' + index" name="selectedReligion" :value="index"
                                v-model="characterCreator.selectedReligion" class="accent-indigo-500" />
                            <label :for="'religion-' + index" class="text-white font-medium">
                                {{ religion }}
                            </label>
                        </div>
                    </div>

                    <p class="text-lg font-bold text-emerald-400 overflow-y-scroll whitespace-pre-line mt-5">What is
                        your
                        ethnicity?</p>
                    <div class="flex flex-wrap gap-4">
                        <div v-for="(ethnicity, index) in characterCreator.ethnicities" :key="index"
                            class="flex items-center space-x-2">
                            <input type="radio" :id="'ethnicity-' + index" name="selectedEthnicity" :value="index"
                                v-model="characterCreator.selectedEthnicity" class="accent-indigo-500" />
                            <label :for="'religion-' + index" class="text-white font-medium">
                                {{ ethnicity }}
                            </label>
                        </div>
                    </div>

                    <!-- Activity Choice -->
                    <p class="text-lg font-bold text-emerald-400 overflow-y-scroll whitespace-pre-line mt-5">Pick a
                        healthy
                        activity</p>
                    <div class="flex flex-wrap gap-4">
                        <div class="flex items-center space-x-2">
                            <div v-for="(activity, index) in characterCreator.activities" :key="index"
                                class="flex items-center space-x-2">
                                <input type="radio" :id="'activity-' + index" name="selectedActivity" :value="index"
                                    v-model="characterCreator.activityBuff" class="accent-indigo-500" />
                                <label :for="'activity-' + index" class="text-white font-medium"> {{ activity }}
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Leisure Choice -->
                    <p class="text-lg font-bold text-emerald-400 overflow-y-scroll whitespace-pre-line mt-5">Pick a
                        leisure
                        activity</p>
                    <div class="flex flex-wrap gap-4">
                        <div class="flex items-center space-x-2">
                            <div v-for="(leisure, index) in characterCreator.leisures" :key="index"
                                class="flex items-center space-x-2">
                                <input type="radio" :id="'leisure-' + index" name="selectedLeisure" :value="index"
                                    v-model="characterCreator.leisureBuff" class="accent-indigo-500" />
                                <label :for="'leisure-' + index" class="text-white font-medium"> {{ leisure }} </label>
                            </div>
                        </div>
                    </div>


                    <button class="absolute bottom-5 right-5 bg-emerald-500 px-5 py-4 rounded-2xl font-bold"
                        @click="startReading('Perfect, just a few more questions. (Please answer as your character) '), introTab++">Next</button>

                </div>


                <!-- Character Attribute Card -->
                <div class="text-white" v-if="introTab == 6">
                    <h1 class="border-b-2 border-indigo-500 text-5xl font-bold mb-5 ">{{"Finishing Up"}}...</h1>
                    <p class="text-lg overflow-y-scroll whitespace-pre-line my-5">{{readingText}}</p>


                    <!-- Character Attribute Checkboxes -->
                    <div class="space-y-6 mt-6">

                        <!-- Baptized -->
                        <label class="flex items-center space-x-4">
                            <input type="checkbox" v-model="characterCreator.baptized" class="w-5 h-5 text-blue-600">
                            <span class="text-lg font-semibold">Have you been baptized?</span>
                        </label>

                        <!-- Married -->
                        <label class="flex items-center space-x-4">
                            <input type="checkbox" v-model="characterCreator.married" class="w-5 h-5 text-blue-600">
                            <span class="text-lg font-semibold">Are you married?</span>
                        </label>

                        <!-- Alcoholic -->
                        <label class="flex items-center space-x-4">
                            <input type="checkbox" v-model="characterCreator.alcoholic" class="w-5 h-5 text-blue-600">
                            <span class="text-lg font-semibold">Are you addicted to alcohol?</span>
                        </label>

                        <!-- Smoker -->
                        <label class="flex items-center space-x-4">
                            <input type="checkbox" v-model="characterCreator.smoker" class="w-5 h-5 text-blue-600">
                            <span class="text-lg font-semibold">Are you a smoker?</span>
                        </label>

                        <!-- Drug Addict -->
                        <label class="flex items-center space-x-4">
                            <input type="checkbox" v-model="characterCreator.hardDrugs" class="w-5 h-5 text-blue-600">
                            <span class="text-lg font-semibold">Do you use hard drugs?</span>
                        </label>

                        <!-- Virginity -->
                        <label class="flex items-center space-x-4">
                            <input type="checkbox" v-model="characterCreator.virgin" class="w-5 h-5 text-blue-600">
                            <span class="text-lg font-semibold">Have you had sex out of wedlock?</span>
                        </label>

                        <!-- Murderer -->
                        <label class="flex items-center space-x-4">
                            <input type="checkbox" v-model="characterCreator.murderer" class="w-5 h-5 text-blue-600">
                            <span class="text-lg font-semibold">Have you ever killed anyone?</span>
                        </label>

                    </div>


                    <button class="absolute bottom-5 right-5 bg-emerald-500 px-5 py-4 rounded-2xl font-bold"
                        @click="characterCreator.printMyself(), startReading('We downloaded something onto your computer. Please send it to your game master to begin the game. \n \n \n Please be reassured, if we wanted to do something malicious we would\'ve. You\'re safe here'), introTab++">Next</button>
                </div>

                <div class="text-white" v-if="introTab == 7">
                    <h1 class="border-b-2 border-indigo-500 text-5xl font-bold mb-5 ">
                        {{characterCreator.characterName}}...
                    </h1>
                    <p class="text-lg overflow-y-scroll whitespace-pre-line m-y-5">{{readingText}}</p>
                    <button class="absolute bottom-5 right-5 bg-emerald-500 px-5 py-4 rounded-2xl font-bold"
                        @click="startReading('With that, we\'re ready to begin the game. Please take responsibility for your actions. \n \n \n \n \n \n \n \n \n \n Are you familiar with Panpsychism? '), introTab++">Next</button>
                </div>

                <div class="text-white" v-if="introTab == 8">
                    <h1 class="border-b-2 border-indigo-500 text-5xl font-bold mb-5 ">
                        {{characterCreator.characterName}}...
                    </h1>
                    <p class="text-lg overflow-y-scroll whitespace-pre-line m-y-5">{{readingText}}</p>
                    <button class="absolute bottom-5 right-5 bg-emerald-500 px-5 py-4 rounded-2xl font-bold"
                        @click="started=true, startingAmbience.pause()">Finish</button>
                </div>
            </div>
        </div>




        <!-- Modal -->
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-full w-full flex items-center justify-center bg-opacity-30 bg-black"
            style="z-index: 90000;" @click="modal = false" v-if="modal">
            <div class="w-2/3 h-2/3 rounded-3xl  bg-gray-800 flex border-2 border-indigo-500 shadow-lg shadow-indigo-500/100 ring-2 ring-indigo-500 p-5"
                style="z-index: 90001;" @click.stop>
                <div class="text-white w-full" v-if="modalTab=='import'" style="z-index: 90002;">
                    <h1 class="border-b-2 border-indigo-500 text-5xl font-bold mb-5 w-full" style="z-index: 90003;">Import something...</h1>
                    <div class="text-white h-1/2 my-3">
                        <!-- /import -->
                        <div class="flex flex-row h-full">
                            <textarea name="" id="" v-model="dataMaster.modalstring" class="rounded-2xl ring-2 ring-cyan-400 p-3 font-semibold bg-indigo-950 my-5 w-full h-full max-h-full"></textarea>
                        </div>
                    </div>
                    <div class="flex flex-row items-center">
                        <div class="w-1/2 flex flex-row gap-2 ">
                            <label class="rounded-full p-4 ring-1 ring-cyan-200 font-semibold bg-cyan-500 hover:bg-cyan-700 my-5 ">From File<input type="file" @change="dataMaster.uploadFromFile" accept=".txt,.json,.dmn,.skl,.amy,.rnw" class="hidden"></label>
                            <input type="button" value="Cancel" @click="modal = false" class="rounded-full p-4 ring-1 ring-cyan-200 font-semibold bg-cyan-500 hover:bg-cyan-700 my-5 flex-end">
                        </div>

                        <!-- Middle Div -->
                        <div class="flex flex-col w-1/2">
                            <label for="">Skill Slot:</label>
                            <div class="flex flex-row">
                                <input type="text" v-model="dataMaster.selectedSkill" id="" class="w-1/2 text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                            </div>
                        </div>

                        
                        <div class="ml-auto w-1/2 flex items-end justify-end gap-2">
                            
                            <input type="button" @click="dataMaster.parseFromModal('save')" value="Save" class="rounded-full p-4 ring-1 ring-cyan-200 font-semibold bg-cyan-500 hover:bg-cyan-700 my-5 flex-end">
                            <input type="button" @click="dataMaster.parseFromModal('demon')" value="Demon" class="rounded-full p-4 ring-1 ring-cyan-200 font-semibold bg-cyan-500 hover:bg-cyan-700 my-5">
                            <input type="button" @click="dataMaster.parseFromModal('skill')" value="Skill" class="rounded-full p-4 ring-1 ring-cyan-200 font-semibold bg-cyan-500 hover:bg-cyan-700 my-5">
                            <input type="button" v-if="unlockedTabs[2]" @click="dataMaster.parseFromModal('army')" value="Army" class="rounded-full p-4 ring-1 ring-cyan-200 font-semibold bg-cyan-500 hover:bg-cyan-700 my-5">
                            <input type="button" v-if="unlockedTabs[2]" @click="dataMaster.parseFromModal('soldier')" value="Soldier" class="rounded-full p-4 ring-1 ring-cyan-200 font-semibold bg-cyan-500 hover:bg-cyan-700 my-5">
                        </div>
                    </div>
                </div>
                <div class="w-full max-h-[80vh] overflow-y-auto text-white font-semibold" v-if="modalTab=='help'">

                        <h2 class="text-2xl mb-4 border-b border-indigo-500 pb-2">List of Commands:</h2>
                        <div class="space-y-3 text-lg">
                            <div>
                            <span class="text-indigo-400 font-bold">/roll & /math</span>
                            <span class="font-thin"> - Roll dice or evaluate math expressions (supports complex notation)</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/xp & /exp</span>
                            <span class="font-thin"> - Add experience points to your demon</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/hp</span>
                            <span class="font-thin"> - Adjust your demon’s HP (healing or damage)</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/mp</span>
                            <span class="font-thin"> - Adjust your demon’s MP (healing or cost)</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/bulwark</span>
                            <span class="font-thin"> - Adjust bulwark (shield) value</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/cost</span>
                            <span class="font-thin"> - Deduct HP or MP cost for a skill</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/damage</span>
                            <span class="font-thin"> - Apply damage to demon, with options to ignore army, resistance, or Rakukaja</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/wash</span>
                            <span class="font-thin"> - Reset demon buffs, ailments, and fully restore HP and MP</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/import skill &lt;name&gt; [slot]</span>
                            <span class="font-thin"> - Import a skill by name into a slot</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/clear</span>
                            <span class="font-thin"> - Clear message log</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/deletedemon [index]</span>
                            <span class="font-thin"> - Delete a demon by index (cannot delete last or main demon)</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/load [slot]</span>
                            <span class="font-thin"> - Load saved data slot</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/save [slot]</span>
                            <span class="font-thin"> - Save data to slot</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/print</span>
                            <span class="font-thin"> - Print data to browser console</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/delete &lt;key&gt;</span>
                            <span class="font-thin"> - Delete a saved key from localStorage</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/download &lt;filename&gt;</span>
                            <span class="font-thin"> - Download save data as file</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/listofsaves</span>
                            <span class="font-thin"> - List all saved data keys</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/unlock &lt;demon/army/edit/all&gt;</span>
                            <span class="font-thin"> - Unlock tabs/features</span>
                            </div>
                            <div>
                            <span class="text-indigo-400 font-bold">/recalculatevitals</span>
                            <span class="font-thin"> - Recalculate demon vitals</span>
                            </div>
                        </div>

                </div>
            </div>
        </div>


        <div class="flex flex-row h-full w-full" v-if="started">
            <div class="h-full w-3/4" v-if="activePage === 'Sheet'">
                <div class="h-1/3">
                    <div class="w-full h-1/5">
                        <div class="h-full flex gap-2 p-1">
                            <div
                                class="rounded-xl bg-gray-800 h-full w-2/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <p class="text-white font-bold text-center text-3xl align-middle">Rise of the New World <span class="text-xs">v 1.0</span>
                                </p>
                            </div>
                            <div @click="activePage = 'Sheet'" v-if="unlockedTabs[0]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/SheetIcon.png"
                                    class="h-full aspect-square object-cover p-1 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Sheet</p>
                            </div>
                            <div @click="activePage = 'Demons'" v-if="unlockedTabs[1]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/DemonIcon.png"
                                    class="h-full aspect-square object-cover p-2 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Demons</p>
                            </div>
                            <div @click="activePage = 'Army'" v-if="unlockedTabs[2]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/ArmyIcon.png"
                                    class="h-full aspect-square object-cover p-2 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Army</p>
                            </div>
                            <div @click="activePage = 'Editor'" v-if="unlockedTabs[3]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/EditIcon.png"
                                    class="h-full aspect-square object-cover p-2 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Edit</p>
                            </div>
                        </div>
                    </div>
                    <div class="w-full flex h-4/5 flex flex-row gap-2 p-1">
                        <div
                            class="h-full w-1/6 bg-gray-800 rounded-xl box-shadow ring-2 ring-indigo-500 flex flex-col gap-2 items-center justify-center p-2">
                            <div class="w-full h-full flex flex-row justify-center items-center pt-5">

                                <!-- <p class="text-white text-6xl align-baseline font-thin">Lv</p>
                                <p class="text-white text-7xl align-baseline font-bold">1</p> -->
                                <div class="rounded-full bg-black h-full aspect-square ring-teal-300 ring-2 flex p-2" @click="messageInput = '/exp '" >
                                    <p
                                        class="absolute text-4xl font-bold text-blue-200 textOutlineBlack drop-shadow-[0_2px_8px_white] drop-shadow-[0_0px_0px_black]">
                                        LV</p>
                                    <div
                                        class="rounded-full bg-blue-950 h-full aspect-square ring-cyan-300 ring-4 flex items-center justify-center">
                                        <p
                                            class="h-full w-full flex items-center justify-center text-white drop-shadow-[0_1px_4px_white] drop-shadow-[0_0px_0px_black] font-bold text-7xl textOutlineBlack">
                                            {{activeDemon.level}}
                                        </p>
                                    </div>
                                </div>


                            </div>

                            <div class="w-full h-1/5 flex flex-col items-center justify-center">
                                <div class="">
                                    <p class="text-white italic">Exp to next {{ activeDemon.maxExp - activeDemon.exp }}
                                    </p>

                                </div>
                                <div class="w-4/5 flex items-center bg-indigo-950 rounded-full p-2">
                                    <div class="w-full bg-gray-600 rounded-full overflow-hidden">
                                        <div class="h-1 bg-green-400"
                                            :style="{ width: (activeDemon.exp / activeDemon.maxExp * 100) + '%' }">
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <!-- Vitals Box -->
                        <div
                            class="h-full w-3/6  bg-gradient-to-r from-sky-950 to-blue-900 rounded-xl box-shadow ring-2 ring-indigo-500 flex items-center justify-center">
                            <div class="w-full h-full flex flex-col">
                                <div class="h-full w-full flex flex-col rounded-xl py-4 px-3 gap-3">

                                    <div
                                        class="w-full h-1/5 flex flex-row content-center items-center gap-2 text-3xl border-b-2 border-indigo-500">

                                        <p
                                            class="w-1/2 h-full textOutlineBlackThin text-teal-300 font-bold align-bottom textOutlineBlack">
                                            HP</p>
                                        <!-- Make the text green when full, red when low, and white otherwise -->
                                        <p :class="{
                                                'text-blue-400': activeDemon.bulwark > 0,
                                                'text-red-500': activeDemon.bulwark === 0 && activeDemon.hp <= ((activeDemon.maxHp + activeDemon.hpBooster) / 10),
                                                'text-teal-300': activeDemon.bulwark === 0 && activeDemon.hp > ((activeDemon.maxHp + activeDemon.hpBooster) / 10),
                                                'text-white': activeDemon.bulwark === 0 && activeDemon.hp > ((activeDemon.maxHp + activeDemon.hpBooster) / 10) && activeDemon.hp < (activeDemon.maxHp + activeDemon.hpBooster)
                                                }"

                                            class="w-1/2 textOutlineBlackThin italic font-bold w-full text-end">
                                            {{ Math.floor(activeDemon.hp+activeDemon.bulwark)}}/{{Math.floor(activeDemon.maxHp+activeDemon.hpBooster) }} </p>
                                    </div>


                                    <div class="w-full h-1/5 flex items-center bg-indigo-950 rounded-full p-2 ring-1 ring-indigo-300">
                                        <div class="relative w-full h-full min-h-1 bg-gray-600 rounded-full overflow-hidden">
                                            
                                            <!-- HP Bar (base layer) -->
                                            <div
                                            class="absolute top-0 left-0 h-full min-h-1 bg-gradient-to-r from-yellow-400 to-lime-500 rounded-full"
                                            :class="{ 'bg-gradient-to-r from-red-500 to-red-800': activeDemon.hp <= ((activeDemon.maxHp + activeDemon.hpBooster) / 10) }"
                                            :style="{ width: (activeDemon.hp / (activeDemon.maxHp + activeDemon.hpBooster) * 100) + '%' }"
                                            ></div>

                                            <!-- Bulwark Bar (on top of HP) -->
                                            <div
                                            v-if="activeDemon.bulwark > 0"
                                            class="absolute top-0 left-0 h-full min-h-1 bg-gradient-to-r from-cyan-400 to-sky-500 opacity-70 rounded-full"
                                            :style="{ width: (activeDemon.bulwark / (activeDemon.maxHp + activeDemon.hpBooster) * 100) + '%' }"
                                            ></div>

                                        </div>
                                    </div>


                                    <!-- MP Text -->
                                    <div
                                        class="w-full h-1/5 flex flex-row content-center items-center gap-2 text-3xl border-b-2 border-indigo-500">
                                        <p
                                            class="w-1/2 h-full textOutlineBlackThin font-bold text-teal-300 align-bottom textOutlineBlackThin">
                                            MP</p>
                                        <p :class="{ 
                                            'text-teal-300': activeDemon.mp == (activeDemon.maxMp+activeDemon.mpBooster), 
                                            'text-white' : activeDemon.mp < activeDemon.maxMp+activeDemon.mpBooster }"
                                            class="w-1/2 text-teal-300 textOutlineBlackThin italic font-bold w-full text-end">
                                            {{ Math.floor(activeDemon.mp)}}/{{Math.floor(activeDemon.maxMp+activeDemon.mpBooster)}} </p>
                                    </div>

                                    <!-- MP Bar -->
                                    <div
                                        class="w-full h-1/5 flex items-center bg-indigo-950 rounded-full p-2 ring-1 ring-indigo-300">
                                        <div class="w-full h-full bg-gray-600 rounded-full overflow-hidden">
                                            <div class="h-full min-h-1 bg-gradient-to-r from-cyan-400 to-blue-500"
                                                :style="{ width: (activeDemon.mp / (activeDemon.maxMp+activeDemon.mpBooster) * 100) + '%' }">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="w-full h-1/5 flex flex-row gap-2">
                                        <div
                                            class="h-full w-1/2 bg-blue-950  flex items-center justify-center bg-indigo-950 rounded-full p-2 ring-1 ring-indigo-300">
                                            <p v-if="!activeDemon.dodge"
                                                class="w-full h-full text-xl text-center textOutlineBlackThin font-bold text-teal-300">
                                                Evasion:
                                                {{Math.max(5,
                                                Math.floor((5+activeDemon.stats[3]+activeDemon.armor[2])*(1+(.2*activeDemon.buffs[2])))+(activeDemon.buffs[2]*5))}}
                                            </p>
                                            <p v-if="activeDemon.dodge"
                                                class="w-full h-full text-xl text-center textOutlineBlackThin font-bold text-teal-300">
                                                Evasion:
                                                {{Math.max(5,
                                                Math.floor((5+activeDemon.stats[3]+activeDemon.armor[2])*(1+(.2* Math.min(activeDemon.buffs[2]+1, 4))))+(Math.min(activeDemon.buffs[2]+1, 4)*5))}}
                                            </p>
                                        </div>
                                        <div v-if="!activeDemon.guard"
                                            class="h-full w-1/2 bg-black  flex items-center justify-center bg-indigo-950 rounded-full p-2 ring-1 ring-indigo-300">
                                            <p v-if="army.soldiers.length > 0"
                                                class="w-full h-full text-xl text-center textOutlineBlackThin font-bold text-teal-300">
                                                Resistance: {{ Math.min(99,
                                                100 - Math.floor(
                                                (100*(1-army.soldiers[0].guard/100)) *
                                                (1-(activeDemon.buffs[1]*0.2)) *
                                                (200/(200+((activeDemon.stats[2]+activeDemon.statsBooster[2]+activeDemon.armor[1])*(1+(((activeDemon.stats[2] + activeDemon.statsBooster[2])+activeDemon.armor[1])/30))))))
                                                )
                                                }}%</p>
                                            <p v-if="army.soldiers.length == 0"
                                                class="w-full h-full text-xl text-center textOutlineBlackThin font-bold text-teal-300">
                                                Resistance: {{
                                                100 - Math.floor(
                                                (100 -
                                                ((100)*(activeDemon.buffs[1]*0.2))) *
                                                (200/(200+((activeDemon.stats[2]+activeDemon.armor[1])*(1+((activeDemon.stats[2]+activeDemon.armor[1])/30))))))
                                                }}%</p>
                                        </div>
                                        <div v-if="activeDemon.guard"
                                            class="h-full w-1/2 bg-black  flex items-center justify-center bg-indigo-950 rounded-full p-2 ring-1 ring-indigo-300">
                                            <p v-if="army.soldiers.length > 0"
                                                class="w-full h-full text-xl text-center textOutlineBlackThin font-bold text-teal-300">
                                                Resistance: {{ Math.min(99,
                                                100 - Math.floor(
                                                (100*(1-army.soldiers[0].guard/100)) *
                                                (1-(Math.min(activeDemon.buffs[1]+1, 4)*0.2)) *
                                                (200/(200+((activeDemon.stats[2]+activeDemon.statsBooster[2]+activeDemon.armor[1])*(1+((activeDemon.stats[2]+activeDemon.armor[1])/30))))))
                                                )
                                                }}%</p>
                                            <p v-if="army.soldiers.length == 0"
                                                class="w-full h-full text-xl text-center textOutlineBlackThin font-bold text-teal-300">
                                                Resistance: {{
                                                100 - Math.floor(
                                                (100 -
                                                ((100)*(Math.min(activeDemon.buffs[1]+1, 4)*0.2))) *
                                                (200/(200+((activeDemon.stats[2]+activeDemon.armor[1])*(1+((activeDemon.stats[2]+activeDemon.armor[1])/30))))))
                                                }}%</p>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>


                        <!-- Buffs Box -->
                        <div
                            class="h-full w-2/6 bg-gray-800 rounded-xl box-shadow ring-2 ring-indigo-500 flex items-center justify-center">
                            <div class="w-full h-full flex flex-col gap-2 items-center justify-center">
                                <div
                                    class="w-full h-full bg-blue-950 rounded-2xl flex flex-row items-center justify-center">
                                    <div class="w-1/3 h-full rounded-full flex flex-row items-center"
                                        v-for="(buff , index) in activeDemon.buffs" :key="index">
                                        <div class="flex flex-col gap-1 h-full w-full items-center justify-center p-4">
                                            <p
                                                class="h-1/5 w-1/3 text-center text-white textOutlineBlackThin font-semibold text-2xl">
                                                {{['ATK', 'DEF', 'HIT'][index]}}</p>
                                            <button
                                                class="h-1/5 w-1/2 bg-black bg-sky-800 pt-0 p-1 ring-1 ring-slate-200 rounded-lg text-white"
                                                @click="activeDemon.buffs[index] < 4 ? activeDemon.buffs[index]++ : null">⮝</button>
                                            <div :style="getBuffShadowStyle(activeDemon.buffs[index])"
                                                class="rounded-full bg-gray-800 w-2/3 h-2/5 flex items-center justify-center ring-1 ring-slate-200">
                                                <img :class="{ 'rotate-180': activeDemon.buffs[index] < 0 }"
                                                    @click="activeDemon.buffs[index] =0;"
                                                    :src="'./Resources/BuffIcon' + ( Math.abs(activeDemon.buffs[index])) + '.png'"
                                                    class="h-2/3 aspect-square object-contain pulsingFilter" alt="">
                                            </div>
                                            <button
                                                class="h-1/5 w-1/2 bg-black bg-sky-800 pt-0 p-1 ring-1 ring-slate-200 rounded-lg text-white"
                                                @click="activeDemon.buffs[index] > -4 ? activeDemon.buffs[index]-- : null">⮟</button>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Affinities, skills, and notes -->
                <div class="h-2/3 flex flex-row gap-2 p-1">

                    <!-- Affinities and skills -->
                    <div class="h-full w-2/3 flex flex-col gap-2">
                        <div
                            class="rounded-xl box-shadow ring-2 ring-indigo-500 items-center justify-center h-full w-full flex flex-col bg-gray-900">
                            <div class="h-2/5 w-full ">


                                <div class="flex flex-row gap-2 h-full w-full px-3">

                                    <div v-for="(affinity, index) in activeDemon.affinities"
                                        class="flex-1 rounded-lg flex items-center justify-center">
                                        <div class="">
                                            <div class="flex flex-col items-center h-full">
                                                <div class="">
                                                    <div @click="messageInput = '/damage (' + activeDemon.readAffinity(affinity) + '*' + ['stkres','slhres','prcres','firres','iceres','elcres','frcres','toxres','psyres','lgtres','glmres'][index] + ')*'"
                                                        class="w-full bg-blue-950 aspect-square rounded-lg object-cover mb-1 border-2 border-indigo-500 shadow-lg shadow-indigo-500/50 hover:shadow-3xl hoverPop tooltip">
                                                        <img :src="'./Resources/AffinityIcon' + (index+1) + '.png'"
                                                            class="pulsingFilter" />
                                                        <span class="tooltiptext">{{['Strike', 'Slash', 'Pierce', 'Fire', 'Ice', 'Electricity', 'Force', 'Toxic', 'Psionic', 'Light', 'Gloom'][index]}}</span>
                                                    </div>

                                                </div>

                                                
                                            <div class="p-1 h-full w-full">
                                                <div class="tooltip h-full w-full">
                                                    <div class="rounded-lg bg-gray-700 flex items-center justify-center text-white font-semibold h-full w-full ring-2 ring-indigo-500 text-2xl textOutlineBlack shadow-lg shadow-indigo-500/50">
                                                    {{ affinity }}
                                                    </div>
                                                    <span class="tooltiptext">{{['Strike', 'Slash', 'Pierce', 'Fire', 'Ice', 'Electricity', 'Force', 'Toxic', 'Psionic', 'Light', 'Gloom'][index]}} Evasion: {{(Math.max(5,
                                                Math.floor(((5+activeDemon.stats[3]+activeDemon.armor[2])*(1+(.2*activeDemon.buffs[2])))+(activeDemon.buffs[2]*5))*activeDemon.affinitiesEvasion[index]))}}</span>
                                                </div>
                                            </div>


                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Stats Box -->
                            <div class="h-3/5 w-full flex flex-col border-t-2 border-indigo-500 rounded-xl">

                                <div class="w-full h-1/5 flex flex-row content-center items-center gap-2 p-1"
                                    v-for="n in 5" :key="n">
                                    <div class="h-full w-1/5 flex items-center justify-center text-white font-semibold">
                                        <div
                                            class="w-1/2 h-full flex items-center justify-end text-white font-semibold pr-2 ">
                                            {{ ['St', 'Ma', 'Vi', 'Ag', 'Lu'][n - 1] }}
                                        </div>
                                        <div
                                            class="w-1/2 h-full flex items-center justify-center text-white font-semibold">
                                            <p class="ring-2 bg-slate-700 rounded-lg text-center w-3/4 text-white"
                                                :class="[
                                            'ring-2 ring-indigo-500 bg-slate-700 rounded-lg text-center w-3/4 transition-all',
                                            activeDemon.availablePoints > 0 ? 'ring-yellow-500 hoverPop' : 'ring-indigo-500']"
                                                @click="
                                            if (activeDemon.availablePoints > 0) {
                                                let lowestStat = Math.min(...activeDemon.stats);
                                                activeDemon.stats[n - 1]++;
                                                activeDemon.availablePoints--;
                                                activeDemon.recalculateVitals();
                                                activeDemon.getVariables();
                                            } dataMaster.autoSave()">
                                                {{activeDemon.stats[n-1]+activeDemon.statsBooster[n-1] }}</p>
                                        </div>
                                    </div>
                                    <div class="w-4/5 flex items-center bg-indigo-950 rounded-xl p-2">
                                        <div class="w-full h-3 bg-slate-500 rounded-full overflow-hidden">
                                            <div class="h-full border-r-2 border-teal-300 statBar"
                                                :style="'width:' + (activeDemon.stats[n-1]+activeDemon.statsBooster[n-1]+1) + '%'">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- Skills Box -->
                        <div
                            class="rounded-xl box-shadow flex items-center justify-center h-3/4 w-full overflow-hidden">
                            <div class="grid grid-cols-2 grid-rows-4 grid-flow-col gap-2 w-full h-full p-1"
                                v-if="!displaySkill">
                                <!-- Make it so when hovers it plays a sound effect -->
                                <div v-for="skill in activeDemon.skills" :key="skill.name"
                                    @click="selectedSkill = skill; displaySkill = !!skill.name"
                                    class="bg-gray-800 rounded-2xl flex items-center justify-center text-white font-semibold ring-2 ring-indigo-500 hoverPop">
                                    <div class="h-full aspect-square object-cover p-2" v-if="skill.skillType > 0 && skill.skillType < 16">
                                        <img :src="'./Resources/AffinityIcon' + (skill.skillType) + '.png'"  class="pulsingFilter" />
                                    </div>
                                    <p class="text-xl" >{{ skill.name }}</p>
                                </div>
                            </div>
                            <div class="w-full h-full p-1" v-if="displaySkill">
                                <div
                                    class="h-full w-full ring-2 ring-indigo-500 bg-blue-950 text-white font-semibold rounded-xl">


                                    <!-- <div class="absolute aspect-square bg-red-400 right-0 p-2 h-1/6" @click="displaySkill = false" >X</div> -->
                                    <div class="flex flex-row h-full">
                                        <div class="flex flex-col overflow-y-scroll" :class="selectedSkill.rolls.length > 0 ? 'w-1/2' : 'w-[100%]'" >
                                            <div class="font-bold text-emerald-400 border-b-2 border-indigo-500">
                                                <p class="text-3xl px-3 pt-1 hover:bg-gray-600 rounded-t-xl"
                                                    @click="displaySkill = false">
                                                    {{selectedSkill.name}}</p>
                                            </div>
                                            <div class="p-3 h-full">
                                                <p
                                                    class="rounded-2xl bg-gradient-to-br from-blue-950 to-teal-950 p-3 min-h-full ring-1 ring-indigo-100 whitespace-pre-wrap">
                                                    {{selectedSkill.description}}</p>
                                            </div>

                                        </div>



                                        <div class="grid grid-cols-2 gap-x-2 p-3 w-1/2 h-full" v-if="selectedSkill.rolls.length > 0">
                                            <div class="flex flex-col w-full"
                                                v-for="(roll, index) in selectedSkill.rolls">
                                                <p v-if="selectedSkill.rollNames[index] != ''">{{selectedSkill.rollNames[index]}}:</p>
                                                <div class="font-thin rounded-3xl  bg-gradient-to-r from-blue-900 to-sky-950 ring-1 ring-indigo-500 flex flex-row" v-if="selectedSkill.rollNames[index] != ''"
                                                    @click="messageInput = selectedSkill.rolls[index]">
                                                    <p class="p-2 overflow-hidden whitespace-nowrap text-ellipsis">{{selectedSkill.rolls[index]}}</p>
                                                    <div @click.stop @click="messageInput = selectedSkill.rolls[index]; sendMessage();"
                                                        class="rounded-full ring-2 ring-indigo-500 bg-indigo-700 ml-auto aspect-square h-full py-2">
                                                        <p class="text-center overflow-hidden">➤</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Profile, Notes, etc -->
                    <div class="h-full w-1/3 p-1" style="max-width: 33%;">
                        <div
                            class="bg-gray-800 rounded-xl box-shadow ring-2 ring-indigo-500 flex items-center justify-center h-full w-full text-white font-semibold flex flex-col">
                            <div class=" h-full w-full">

                                <div class="w-full bg-slate-950 rounded-t-xl flex items-center justify-center"
                                    style="height: 8%;">
                                    <div class="w-full h-full flex flex-col justify-end">
                                        <div
                                            class="flex flex-row justify-center gap-1 md:gap-2 border-b-2 border-indigo-500 overflow-hidden">
                                            <button v-for="tab in tabs" :key="tab" 
                                                class="px-4 py-1 h-full w-1/3 rounded-t-lg font-bold text-xs sm:text-sm md:text-md lg:text-lg focus:outline-none"
                                                :class="activeTab === tab ? 'bg-indigo-700 text-white ring-2-- ring-indigo-400' : 'bg-gray-700 text-gray-300'"
                                                @click="activeTab = tab">
                                                {{ tab.charAt(0).toUpperCase() + tab.slice(1) }}
                                            </button>
                                        </div>
                                    </div>


                                </div>

                                <div class="bg-blue-950 rounded-b-2xl" style="height: 92%;">
                                    <div v-if="activeTab === 'profile'" class="w-full h-full p-2 overflow-y-auto overflow-x-hidden">
                                        <p class="text-white text-xl font-semibold my-2"> <span
                                                class="text-xl text-emerald-400 mb-2">Name: </span> <span
                                                class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">{{
                                                activeDemon.name }}</span></p>
                                        <p class="text-white text-xl font-semibold  my-2">
                                            <span class="text-xl text-emerald-400 mb-2">Race: </span>
                                            <span
                                                class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">{{activeDemon.race
                                                }}</span>
                                        </p>

                                        <p class="text-white text-xl font-semibold  my-2">
                                            <span class="text-xl text-emerald-400 mb-2">Alignment: </span>
                                            <span
                                                class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">{{
                                                activeDemon.alignment }}</span>
                                        </p>

                                        <!-- <p class="text-emerald-400 text-xl font-semibold mb-2"></p> -->
                                         <p class="text-emerald-400 text-xl font-semibold mb-2" v-if="activeDemon.contract != ''"> Description:</p>
                                        <div  v-if="activeDemon.description != ''"
                                            class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 p-2 mb-1 ring-1 ring-indigo-500  max-h-48 overflow-y-auto overflow-x-hidden">
                                            <!-- Display each keyword in a styled paragraph -->
                                            <p class="mb-2 break-words whitespace-pre-wrap" v-if="activeDemon.description != ''"> {{ activeDemon.description }}</p>
                                            
                                            <!-- • -->
                                            <p class="" v-for="birthright in activeDemon.birthrights">  {{ birthright}}</p> 
                                        </div>
                                        
                                        <p class="text-emerald-400 text-xl font-semibold mb-2"> Tags:</p>
                                        <div class="flex w-full flex-wrap gap-2 max-h-40 overflow-y-auto rounded-2xl bg-indigo-950 p-2">
                                            <!-- Display each keyword in a styled paragraph -->
                                            <p v-for="(keyword, index) in activeDemon.keywords" :key="index"
                                                class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                {{ keyword }}</p>
                                        </div>


                                        <p class="text-emerald-400 text-xl font-semibold mb-2" v-if="activeDemon.contract != ''"> Contract:</p>
                                        <div class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 p-2 mb-1 ring-1 ring-indigo-500 max-h-48 overflow-y-auto overflow-x-hidden"
                                        v-if="activeDemon.contract != ''" >
                                            <p class="mb-2 break-words whitespace-pre-wrap">
                                                {{ activeDemon.contract }}
                                            </p>
                                        </div>


                                        <!-- <button type="button" class="rounded-2xl bg-emerald-700 text-white p-2" @click="dataMaster.printData" >Print</button>
                                        <button type="button" class="rounded-2xl bg-emerald-700 text-white p-2" @click="dataMaster.updateFileData()" >Update</button>
                                        <button type="button" class="rounded-2xl bg-emerald-700 text-white p-2" @click="dataMaster.saveData" >Save</button>
                                        <button type="button" class="rounded-2xl bg-emerald-700 text-white p-2" @click="dataMaster.loadData" >Load</button> -->

                                    </div>
                                    <div v-else-if="activeTab === 'combat'" class="w-full h-full p-2 overflow-y-scroll">
                                        <p @click="selectedSkill = activeDemon.weapon; displaySkill = true;" class="text-emerald-400 text-xl font-semibold mb-2 w-full border-b-2 border-indigo-500"> Weapon: </p>
                                        <div @click="selectedSkill = activeDemon.weapon; displaySkill = true;" class="flex flex-row w-full gap-2 mb-2">
                                             <div class="w-1/5 bg-blue-950 aspect-square rounded-lg object-cover mb-1 border-2 border-indigo-500 shadow-lg shadow-indigo-500/50 hover:shadow-3xl">
                                                <img :src="'./Resources/WeaponIcon.png'" class="pulsingFilter" />
                                            </div>
                                            <p class="w-4/5 text-white text-lg rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 p-2 mb-1 ring-1 ring-indigo-500"> {{ activeDemon.weapon.name }} <br> <span class="block w-full font-thin text-sm truncate">{{ activeDemon.weapon.description }}</span></p>
                                        </div>

                                        <p class="text-emerald-400 text-xl font-semibold mb-2 w-full border-b-2 border-indigo-500"> Coefficient: </p>
                                        <!-- Make the coefficient an equation -->
                                        <input type="text" name="" id="" v-model="activeDemon.coefficient"
                                            class="w-full text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500" />
                                        <p class="text-emerald-400 text-xl font-semibold mb-2 w-full border-b-2 border-indigo-500"> Defending: </p>
                                        <div class="flex flex-row gap-2">
                                            <input type="button" value="Will" @click="messageInput = '/roll 1d100+lu+vi/2_floor'" class="rounded-full bg-gradient-to-r from-purple-950 to-blue-800 w-1/3 ring-1 ring-cyan-100 textOutlineBlackThin text-xl" >
                                            <input type="button" value="Guard" @click="activeDemon.guard = !activeDemon.guard; activeDemon.dodge = false;" class="rounded-full textOutlineBlackThin text-xl w-1/3 ring-1" :class="activeDemon.guard ? 'bg-gradient-to-r from-purple-950 to-blue-950 ring-cyan-800 text-gray-300' : 'bg-gradient-to-r from-purple-900 to-blue-800 ring-cyan-100'">
                                            <input type="button" value="Dodge" @click="activeDemon.dodge = !activeDemon.dodge; activeDemon.guard = false;" class="rounded-full textOutlineBlackThin text-xl w-1/3 ring-1" :class="activeDemon.dodge ? 'bg-gradient-to-r from-purple-950 to-blue-950 ring-cyan-800 text-gray-300' : 'bg-gradient-to-r from-purple-900 to-blue-800 ring-cyan-100'">
                                        </div>
                                        <p class="text-emerald-400 text-xl font-semibold my-2 w-full border-b-2 border-indigo-500" > Ailments: </p>
                                        
                                        <div class="flex flex-row w-full gap-2 text-white text-lg font-thin rounded-full bg-gradient-to-r from-purple-950 to-fuchsia-950 ring-1 ring-indigo-500 items-center pr-2 my-2" v-for="ailment in activeDemon.ailments">
                                            <div class="w-1/6 bg-blue-950 aspect-square rounded-full object-cover border-2 shadow-lg shadow-indigo-500/50 hover:shadow-3xl border-indigo-500 hover:border-red-500 hoverPop">
                                                <img :src="'./Resources/affinityIcon13.png'" class="pulsingFilter" @click="activeDemon.ailments.splice(index, 1)" />

                                            </div>
                                            
                                            <input type="text" class="h-full w-1/2 text-white text-lg font-thin rounded-full bg-gradient-to-r from-green-950 to-blue-950 p-2 ring-1 ring-indigo-500" v-model="ailment[0]" />
                                            <input type="text" class="h-full w-1/2 text-white text-lg font-thin rounded-full bg-gradient-to-r from-green-950 to-blue-950 p-2 ring-1 ring-indigo-500" v-model.number="ailment[1]" />
                                            
                                            
                                        </div>
                                        <div class="my-2" @click="activeDemon.ailments.push(['New Ailment', 100])" v-if="activeDemon.ailments.length < 10">
                                            <p>Add Ailment</p>
                                        </div>


                                        <!-- <p class="text-emerald-400 text-xl font-semibold mb-2"> Armor:</p>
                                        <div class="flex flex-row w-full">
                                            <p
                                                class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                {{activeDemon.armor[0] }}</p>
                                        </div> -->
                                    </div>
                                    <div v-else-if="activeTab === 'notes'"
                                        class="w-full h-full flex flex-col items-center justify-center">

                                        <div class="h-full w-full" id="">
                                            <!-- <div class="w-full border-b-2 border-indigo-500 bg-blue-900 text-2xl p-2" style="height: 10%;" > <p class="textOutlineBlackThin">Notes</p> </div> -->
                                            <textarea class="h-full w-full bg-blue-950 resize-none rounded-b-xl p-2" v-model="activeDemon.notes" @change="dataMaster.autoSave()"
                                                id=""></textarea>
                                        </div>
                                    </div>
                                    <div v-else-if="activeTab === 'inventory'"
                                        class="w-full h-full flex items-center justify-center">
                                        <div class="h-full w-full" id="">
                                            <!-- <div class="w-full border-b-2 border-indigo-500 bg-blue-900 text-2xl p-2" style="height: 10%;" > <p class="textOutlineBlackThin">Notes</p> </div> -->
                                            <textarea class="h-full w-full bg-blue-950 resize-none rounded-b-xl p-2"
                                                id=""></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>




            <!-- Demons Tab -->

            <div class="w-3/4 h-full" v-if="activePage === 'Demons'">
                <div class="w-full h-1/3 flex gap-2 flex-col">
                    <div class="w-full h-1/5">
                        <div class="h-full flex gap-2 p-1">
                            <div
                                class="rounded-xl bg-gray-800 h-full w-2/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <p class="text-white font-bold text-center text-3xl align-middle">Rise of the New World <span class="text-xs">v 1.0</span>
                                </p>
                            </div>
                            <div @click="activePage = 'Sheet'" v-if="unlockedTabs[0]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/SheetIcon.png"
                                    class="h-full aspect-square object-cover p-1 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Sheet</p>
                            </div>
                            <div @click="activePage = 'Demons'" v-if="unlockedTabs[1]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/DemonIcon.png"
                                    class="h-full aspect-square object-cover p-2 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Demons</p>
                            </div>
                            <div @click="activePage = 'Army'" v-if="unlockedTabs[2]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/ArmyIcon.png"
                                    class="h-full aspect-square object-cover p-2 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Army</p>
                            </div>
                            <div @click="activePage = 'Editor'" v-if="unlockedTabs[3]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/EditIcon.png"
                                    class="h-full aspect-square object-cover p-2 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Edit</p>
                            </div>
                        </div>
                    </div>
                    <div
                        class="h-4/5 bg-gradient-to-r from-blue-950 to-cyan-800 rounded-2xl ring-2 ring-indigo-500 w-full mx-auto flex flex-row p-1">
                        <img class="aspect-square h-full object-cover rounded-full ring-2 ring-slate-200 bg-black pixel-art"
                            :src="activeDemon.icon" />
                        <div class="flex flex-row w-full p-2 h-full">
                            <div class="w-2/3 h-full flex flex-col">
                                <div
                                    class="w-full h-1/5 px-2 pt-1 flex flex-row border-b-2 border-indigo-500 text-2xl gap-2">
                                    <div class="text-white font-bold w-full text-left truncate"><span
                                            class="font-semibold italic">{{activeDemon.race}}</span>,
                                        {{activeDemon.name}},
                                        LV {{activeDemon.level}}</div>
                                </div>
                                <div class="h-4/5 w-full flex flex-col p-2">
                                    <div class="w-full h-1/5 flex content-center items-center gap-2 p-1" v-for="n in 5"
                                        :key="n">
                                        <div
                                            class="h-full w-1/5 flex flex-row items-center justify-center text-white font-semibold">
                                            <div
                                                class="w-1/2 h-full flex items-center justify-end text-white font-semibold pr-2 ">
                                                {{ ['St', 'Ma', 'Vi', 'Ag', 'Lu'][n - 1] }}
                                            </div>
                                            <div
                                                class="w-1/2 h-full flex-col flex items-center justify-center text-white font-semibold">
                                                <p class="ring-2 bg-slate-700 rounded-lg text-center w-3/4 text-white">
                                                    {{activeDemon.stats[n-1]}}</p>
                                            </div>
                                        </div>
                                        <div class="w-4/5 flex items-center bg-indigo-950 rounded-xl p-2">
                                            <div class="w-full h-3 bg-slate-500 rounded-full overflow-hidden">
                                                <div class="h-full border-r-2 border-teal-300 statBar"
                                                    :style="'width:' + (activeDemon.stats[n-1]+1) + '%'"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="w-1/2 h-full flex flex-col">
                                <div class="flex flex-row w-full h-1/3">
                                    <div v-for="(affinity, index) in activeDemon.affinities"
                                        class="flex-1 rounded-lg flex items-center justify-center">
                                        <div class="">
                                            <div class="flex flex-col items-center h-full">
                                                <div class="">
                                                    <div
                                                        class="w-full bg-blue-950 aspect-square rounded-lg object-cover mb-1 border-2 border-indigo-500 shadow-lg shadow-indigo-500/50 hover:shadow-3xl tooltip">
                                                        <img :src="'./Resources/AffinityIcon' + (index+1) + '.png'"
                                                            class="pulsingFilter" />
                                                        <span class="tooltiptext">{{['Strike', 'Slash', 'Pierce', 'Fire', 'Ice', 'Electricity', 'Force', 'Toxic', 'Psionic', 'Light', 'Gloom'][index]}}</span>
                                                    </div>

                                                </div>

                                                <div class="p-1 h-full w-full">
                                                    <div
                                                        class="rounded-lg bg-gray-700 flex items-center justify-center text-white font-thin h-full w-full ring-2 ring-indigo-500 text-xs textOutlineBlack shadow-lg shadow-indigo-500/50">
                                                        {{ affinity }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div
                                    class="grid grid-cols-2 grid-rows-4 grid-flow-col gap-2 w-full h-full p-2 h-2/3 w-full">
                                    <div v-for="skill in activeDemon.skills" :key="skill.name"
                                        class="bg-gray-700 rounded-lg flex items-center justify-center text-white font-semibold ring-2 ring-indigo-500">
                                        {{ skill.name }}
                                    </div>

                                </div>

                            </div>

                        </div>
                    </div>
                </div>




                <!-- Demons List -->

                <div class="w-full h-2/3 p-2">
                    <div
                        class="w-full h-full bg-gradient-to-r from-emerald-950 to-indigo-900 ring-2 rounded-2xl ring-indigo-500 overflow-y-scroll overflow-hidden">
                        <div class="flex flex-wrap ">

                            <!-- Demon Cards -->
                            <div class="w-1/4 p-2 " v-for="(demon, index) in demonList">
                                <div class="w-full aspect-[16/9] ring-2 rounded-2xl bg-blue-950 overflow-hidden hoverPop"
                                    :class="index === 0 ? 'ring-cyan-200' : 'ring-indigo-600'"
                                    @click="activeDemon = demon">
                                    <div class="w-full flex flex-col">
                                        <div class="w-full h-1/5 px-2 pt-1 flex flex-row border-b-2 border-indigo-500">
                                            <div class="text-white font-bold w-3/4 text-left truncate">{{demon.name}}
                                            </div>
                                            <div class="text-white w-1/4 text-right truncate"> LV {{demon.level}}</div>
                                        </div>
                                        <div class="w-full flex flex-row items-center mx-auto p-1">
                                            <div class="w-1/4 aspect-square ring-slate-200 rounded-full object-contain">
                                                <img class="h-full aspect-square rounded-full ring-2 ring-slate-200 bg-black pixel-art object-cover"
                                                    :src="demon.icon" />
                                            </div>
                                            <div class="w-3/4 gap-2 flex flex-col">
                                                <div class="w-full flex flex-row sm:text-sm">

                                                    <div class="flex h-full w-full flex-col">
                                                        <div class="flex flex-col gap-1 h-full w-full items-center p-2">
                                                            <div
                                                                class="w-full h-1/6 flex flex-row content-center items-center gap-2 border-b-2 border-indigo-500">
                                                                <p
                                                                    class="w-1/2 h-full textOutlineBlackThin text-teal-300 font-bold align-bottom textOutlineBlack">
                                                                    HP</p>
                                                                <p :class="{ 'text-red-500': demon.hp <= (demon.maxHp/10), 'text-teal-300': demon.hp == (demon.maxHp), 'text-white' : (demon.hp > (demon.maxHp/10) && demon.hp < demon.maxHp) }"
                                                                    class="w-1/2 textOutlineBlackThin italic font-bold w-full text-end">
                                                                    {{demon.hp}}/{{demon.maxHp}} </p>
                                                            </div>
                                                            <div
                                                                class="w-full h-1/4 flex items-center bg-indigo-950 rounded-full p-2 ring-1 ring-indigo-300">
                                                                <div
                                                                    class="w-full h-full bg-gray-600 rounded-full overflow-hidden">
                                                                    <div class="h-full min-h-1 bg-gradient-to-r from-yellow-400 to-lime-500"
                                                                        :class="{ 'bg-gradient-to-r from-red-500 to-red-800': demon.hp <= (demon.maxHp/10) }"
                                                                        :style="{ width: (demon.hp / demon.maxHp * 100) + '%' }">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div
                                                                class="w-full h-1/4 flex flex-row content-center items-center gap-2 border-b-2 border-indigo-500">
                                                                <p
                                                                    class="w-1/2 h-full textOutlineBlackThin text-teal-300 font-bold align-bottom textOutlineBlack">
                                                                    MP</p>
                                                                <p :class="{ 'text-red-500': demon.mp <= ((demon.maxMp+demon.mpBooster)/10), 'text-teal-300': demon.mp == (demon.maxMp+demon.mpBooster), 'text-white' : (demon.mp > ((demon.maxMp+demon.mpBooster)/10) && demon.mp < demon.maxMp+demon.mpBooster) }"
                                                                    class="w-1/2 textOutlineBlackThin italic font-bold w-full text-end">
                                                                    {{demon.mp}}/{{demon.maxMp}} </p>
                                                            </div>
                                                            <div
                                                                class="w-full h-1/4 flex items-center bg-indigo-950 rounded-full p-2 ring-1 ring-indigo-300">
                                                                <div
                                                                    class="w-full h-full bg-gray-600 rounded-full overflow-hidden">
                                                                    <div class="h-full min-h-1 bg-gradient-to-r from-cyan-400 to-blue-500"
                                                                        :class="{ 'bg-gradient-to-r from-red-500 to-red-800': demon.mp <= (demon.maxMp/10) }"
                                                                        :style="{ width: (demon.mp / (activeDemon.maxMp+activeDemon.mpBooster) * 100) + '%' }">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="w-1/4 p-2" v-if="demonList.length < 12">
                                <div class="w-full aspect-[16/9] ring-2 rounded-2xl bg-slate-900 ring-slate-500 overflow-hidden p-5"
                                    @click="characterCreator.createDemon('New Demon'); activeDemon = demonList[demonList.length-1]; activePage='Editor'">
                                    <div class="h-3/4 aspect-square rounded-full mx-auto">
                                        <img src="./Resources/DemonIcon.png"
                                            class="w-full h-full object-cover rounded-full ring-2 ring-slate-500 pixel-art"
                                            alt="">
                                    </div>
                                    <p class="text-center h-1/4 text-white p-1 font-bold">New Demon</p>

                                </div>
                            </div>

                        </div>







                    </div>
                </div>

            </div>


            <!-- Army Tab -->
            <div class="w-3/4 h-full" v-if="activePage === 'Army'">
                <div class="h-full">
                    <div class="w-full" style="height: 6.66%;">
                        <div class="h-full flex gap-2 p-1">
                            <div
                                class="rounded-xl bg-gray-800 h-full w-2/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <p class="text-white font-bold text-center text-3xl align-middle">Rise of the New World <span class="text-xs">v 1.0</span>
                                </p>
                            </div>
                            <div @click="activePage = 'Sheet'" v-if="unlockedTabs[0]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/SheetIcon.png"
                                    class="h-full aspect-square object-cover p-1 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Sheet</p>
                            </div>
                            <div @click="activePage = 'Demons'" v-if="unlockedTabs[1]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/DemonIcon.png"
                                    class="h-full aspect-square object-cover p-2 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Demons</p>
                            </div>
                            <div @click="activePage = 'Army'" v-if="unlockedTabs[2]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/ArmyIcon.png"
                                    class="h-full aspect-square object-cover p-2 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Army</p>
                            </div>
                            <div @click="activePage = 'Editor'" v-if="unlockedTabs[3]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/EditIcon.png"
                                    class="h-full aspect-square object-cover p-2 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Edit</p>
                            </div>
                        </div>
                    </div>


                    <!-- Army Info Tab -->
                    <div class="w-full flex flex flex-row gap-2 p-2" style="height: 93.33%;">
                        <div
                            class="w-full h-full bg-gradient-to-r from-emerald-900 to-indigo-900 ring-2 rounded-2xl ring-indigo-500 flex flex-row">
                            <div class="h-full w-1/3 p-5">
                                <div class="ring-2 ring-cyan-400 h-full w-full rounded-2xl bg-slate-900 flex flex-col">
                                    <div class="w-full h-full flex flex-col p-3 overflow-y-scroll" v-if="army.soldiers.length > 0">
                                        <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-2 border-indigo-500"> {{demonList[0].name}}'s Army</p>

                                        <p class="text-white text-3xl font-semibold my-2">
                                            <span class="text-emerald-400 mb-2 mr-2">Total Units: </span>
                                            <span
                                                class="text-white text-xl font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-3 py-1 my-2 ring-1 ring-indigo-500">
                                                {{ army.totalUnits() }}</span>
                                        </p>

                                        <p class="text-white text-3xl font-semibold my-2">
                                            <span class="text-emerald-400 mb-2 mr-2">Total Power: </span>
                                            <span
                                                class="text-white text-xl font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-3 py-1 my-2 ring-1 ring-indigo-500">
                                                {{ army.totalPower() }}</span>
                                        </p>

                                        <p class="text-white text-3xl font-semibold my-2">
                                            <span class="text-emerald-400 mb-2 mr-2">Army Protection: </span>
                                            <span
                                                class="text-white text-xl font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-3 py-1 my-2 ring-1 ring-indigo-500">
                                                {{ army.soldiers[0].guard }}</span>
                                        </p>

                                        <p class="text-white text-3xl font-semibold my-2">
                                            <span class="text-emerald-400 mb-2 mr-2">Charges: </span>
                                            <span class="text-white text-xl font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-3 py-1 my-2 ring-1 ring-indigo-500" @click="army.charges > 0 && army.charges--"> - </span>
                                            <span class="text-white text-xl font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-3 py-1 m-2 ring-1 ring-indigo-500" @click="army.charges = 0"> {{ army.charges }}</span>
                                            <span class="text-white text-xl font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-3 py-1 my-2 ring-1 ring-indigo-500" @click="army.charges++"> + </span>
                                            </p>
                                        <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-3 border-indigo-500"> Description</p>
                                        <p class="text-lg text-white ring-1 bg-slate-800 ring-emerald-700 rounded-xl p-1 min-h-32 h-1/4"> {{army.soldiers[0].description}}</p>
                                        <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-2 border-indigo-500"> Assaults</p>
                                        <div class="flex flex-row flex-wrap w-full">
                                            <div v-for="(assault, index) in army.soldiers[0].assaults" :key="index"
                                                class="w-1/2 p-1">
                                                <div @click="messageInput = assault.rolls[0]"
                                                    class="bg-gray-700 rounded-lg flex h-full w-full text-white font-semibold ring-2 ring-indigo-500 hoverPop cursor-pointer py-3 p-2 tooltip">
                                                    <p class="text-lg">{{ assault.name }}</p> <br>
                                                    <span class="tooltiptext">{{ assault.description }}</span>
                                                </div>

                                            </div>
                                        </div>
                                        

                                    </div>

                                </div>
                            </div>



                            <!-- Soldier List -->
                            <div class="h-full w-2/3 overflow-y-auto p-4 space-y-4">


                                <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-2 border-indigo-500"> Active Soldiers</p>
                                <div v-for="(soldier, index) in army.soldiers || []" :key="index"
                                    :class="index === 0 ? 'ring-yellow-300' : 'ring-cyan-600'" 
                                    class="bg-slate-900 text-white rounded-2xl ring-2 flex items-center p-4 space-x-4 flex flex-row">
                                    <div class="flex flex-ro flex items-center p-2 space-x-2 gap-2 w-2/3" v-if="!soldier.editing">
                                        <img :src="soldier.icon" alt="icon"
                                            class="aspect-square w-1/5 rounded-full ring-2 ring-white pixel-art object-cover" />

                                        <div class="flex flex-col gap-2 space-y-1  w-4/5">
                                            <p class="text-xl font-bold text-emerald-400 border-b-2 border-indigo-500 h-1/4"> {{soldier.name }} x{{ soldier.units}}</p>
                                            <div
                                                class="w-full h-3/4 flex flex-row justify-between items-center gap-2 grid grid-cols-2">
                                                <p
                                                    class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    HP: {{ soldier.hp}}/{{(soldier.maxHp)}}</p>
                                                <p
                                                    class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    Endurance: {{ soldier.endurance}}</p>
                                                <p
                                                    class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    Guard: {{ soldier.guard}}%</p>
                                                <p
                                                    class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    Power: {{ soldier.power}}</p>


                                            </div>


                                        </div>
                                    </div>

                                    <div class="h-full" v-if="soldier.editing">
                                        <div class="flex flex-row flex-wrap">
                                            <div class="flex flex-col w-1/3 p-2">
                                                <label for="">Soldier Name:</label>
                                                <input type="text" v-model="soldier.name"  id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                            </div>
                                            <div class="flex flex-col w-1/3 p-2">
                                                <label for="">Icon URL:</label>
                                                <input type="text" v-model="soldier.icon"  id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                            </div>
                                            <div class="flex flex-col w-1/3 p-2">
                                                <label for="">Unit Count:</label>
                                                <input type="text" v-model="soldier.units" min="0" max="999" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                            </div>
                                            <div class="flex flex-row w-1/3 p-2 gap-2">
                                                <div class="flex flex-col w-1/2">
                                                    <label for="">Unit HP:</label>
                                                    <div class="flex flex-row">
                                                        <input type="text" v-model="soldier.hp" min="0" max="999" id="" class="w-full text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    </div>
                                                </div>
                                                <div class="flex flex-col w-1/2">
                                                    <label for="">Unit Max HP:</label>
                                                    <div class="flex flex-row">
                                                        <input type="text" v-model="soldier.maxHp" min="0" max="999" id="" class="w-full text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="flex flex-row w-1/3 p-2 gap-2">
                                                <div class="flex flex-col w-1/2">
                                                    <label for="">Guard Reduction:</label>
                                                    <div class="flex flex-row">
                                                        <input type="text" v-model="soldier.guard" id="" class="w-full text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    </div>
                                                </div>
                                                <div class="flex flex-col w-1/2">
                                                    <label for="">Endurance:</label>
                                                    <div class="flex flex-row">
                                                        <input type="text" v-model="soldier.endurance" id="" class="w-full text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="flex flex-col w-1/3 p-2">
                                                <label for="">Unit Power:</label>
                                                <input type="text" v-model="soldier.power" id="" min="0" max="999" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                            </div>

                                            <div class="flex flex-col w-1/2 p-2" v-for="(assault,assaultIndex ) in soldier.assaults">
                                                <label for="">Assault {{assaultIndex+1}}:</label>
                                                <input type="text" v-model="assault.name" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                <input type="text" v-model="assault.description" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                <input type="text" v-model="assault.rolls[0]" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                            </div>

                                            <div class="flex flex-col w-full p-2">
                                                <label for="">Description:</label>
                                                <textarea type="text" v-model="soldier.description" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500"></textarea>
                                            </div>

                                            
                                        </div>
                                        <button type="button" @click="soldier.editing = !soldier.editing; dataMaster.autoSave()"
                                            class="w-full hoverPop bg-indigo-800 hover:bg-indigo-900 p-3 rounded-xl ring-2 ring-indigo-500  h-1/2">Complete Edits</button>
                                        
                                    </div>

                                    <div class="flex flex-col gap-2 ml-auto" v-if="!soldier.editing">
                                        <button type="button" @click="army.swapOut(index, (index-1)); dataMaster.autoSave()"
                                            class="hoverPop bg-indigo-800 hover:bg-indigo-900 p-2 rounded-xl ring-2 ring-indigo-500 h-1/2">⮝</button>
                                        <button type="button" @click="army.swapOut(index, (index+1)); dataMaster.autoSave()"
                                            class="hoverPop bg-indigo-800 hover:bg-indigo-900 p-2 rounded-xl ring-2 ring-indigo-500  h-1/2">⮟</button>
                                    </div>
                                    <div class="flex flex-row gap-2" v-if="!soldier.editing">
                                        <button type="button" @click="soldier.editing = !soldier.editing"
                                            class="w-1/3 hoverPop bg-indigo-800 hover:bg-indigo-900 p-3 rounded-xl ring-2 ring-indigo-500  h-1/2">Edit</button>
                                        <button type="button" @click="army.holdBack(index); dataMaster.autoSave()"
                                            class=" hoverPop bg-indigo-800 hover:bg-indigo-900 p-3 rounded-xl ring-2 ring-indigo-500  h-1/2" v-if="army.inactiveSoldiers.length < 9">Deactivate</button>
                                        <button type="button" @click="army.deleteSoldier(index); dataMaster.autoSave()"
                                            class="hoverPop bg-red-700 hover:bg-red-800 py-3 px-5 rounded-xl ring-2 ring-red-900 h-1/2">X</button>
                                    </div>

                                </div>

                                <!-- New Soldier Button -->
                                <div class="bg-slate-900 text-white rounded-2xl ring-2 ring-cyan-600 flex items-center p-4 space-x-4"
                                    @click="army.addSoldier()" v-if="army.soldiers.length < 9">
                                    <img src="Resources/DemonIcon.png" alt="icon"
                                        class="h-16 w-16 rounded-full ring-2 ring-white pixel-art" />
                                    <div class="flex flex-col gap-2 space-y-1">

                                        <div class="w-full h-3/4 flex flex-row justify-between items-center gap-2">
                                            <p class="text-xl text-white font-bold">New Soldier+</p>

                                        </div>


                                    </div>

                                </div>

                                <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-2 border-indigo-500">
                                    Inactive
                                </p>

                                
                                <div v-for="(soldier, index) in army.inactiveSoldiers || []" :key="index"
                                    class="bg-slate-900 text-white rounded-2xl ring-2 ring-cyan-600 flex items-center p-4 space-x-4 flex flex-row">

                                    <!-- Soldier Icon + Info -->
                                    <div class="flex flex-row items-center p-2 space-x-2 gap-2 w-2/3" v-if="!soldier.editing">
                                        <img :src="soldier.icon" alt="icon"
                                            class="aspect-square w-1/5 rounded-full ring-2 ring-white pixel-art object-cover" />

                                        <div class="flex flex-col gap-2 space-y-1 w-4/5">
                                            <p
                                                class="text-xl font-bold text-emerald-400 border-b-2 border-indigo-500 h-1/4">
                                                {{ soldier.name }} x{{ soldier.units }}
                                            </p>
                                            <div
                                                class="w-full h-3/4 flex flex-row justify-between items-center gap-2 grid grid-cols-2">
                                                <p
                                                    class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    HP: {{ soldier.hp * soldier.units }}/{{ soldier.maxHp * soldier.units }}
                                                </p>
                                                <p
                                                    class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    Endurance: {{ soldier.endurance }}
                                                </p>
                                                <p
                                                    class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    Guard: {{ soldier.guard }}%
                                                </p>
                                                <p
                                                    class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    Power: {{ soldier.power }}
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="h-full" v-if="soldier.editing">
                                        <div class="flex flex-row flex-wrap">
                                            <div class="flex flex-col w-1/3 p-2">
                                                <label for="">Soldier Name:</label>
                                                <input type="text" v-model="soldier.name" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                            </div>
                                            <div class="flex flex-col w-1/3 p-2">
                                                <label for="">Icon URL:</label>
                                                <input type="text" v-model="soldier.icon" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                            </div>
                                            <div class="flex flex-col w-1/3 p-2">
                                                <label for="">Unit Count:</label>
                                                <input type="text" v-model="soldier.units" min="0" max="999" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                            </div>
                                            <div class="flex flex-row w-1/3 p-2 gap-2">
                                                <div class="flex flex-col w-1/2">
                                                    <label for="">Unit HP:</label>
                                                    <div class="flex flex-row">
                                                        <input type="text" v-model="soldier.hp" min="0" max="999" id="" class="w-full text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    </div>
                                                </div>
                                                <div class="flex flex-col w-1/2">
                                                    <label for="">Unit Max HP:</label>
                                                    <div class="flex flex-row">
                                                        <input type="text" v-model="soldier.maxHp" min="0" max="999" id="" class="w-full text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    </div>
                                                </div>
                                                
                                            </div>
                                            <div class="flex flex-row w-1/3 p-2 gap-2">
                                                <div class="flex flex-col w-1/2">
                                                    <label for="">Guard Reduction:</label>
                                                    <div class="flex flex-row">
                                                        <input type="text" v-model="soldier.guard" id="" class="w-full text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    </div>
                                                </div>
                                                <div class="flex flex-col w-1/2">
                                                    <label for="">Endurance:</label>
                                                    <div class="flex flex-row">
                                                        <input type="text" v-model="soldier.endurance" id="" class="w-full text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="flex flex-col w-1/3 p-2">
                                                <label for="">Unit Power:</label>
                                                <input type="text" v-model="soldier.power" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                            </div>

                                            <div class="flex flex-col w-1/2 p-2" v-for="(assault,assaultIndex ) in soldier.assaults">
                                                <label for="">Assault {{assaultIndex+1}}:</label>
                                                <input type="text" v-model="assault.name" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                <input type="text" v-model="assault.description" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                                <input type="text" v-model="assault.rolls[0]" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500">
                                            </div>

                                            <div class="flex flex-col w-full p-2">
                                                <label for="">Description:</label>
                                                <textarea type="text" v-model="soldier.description" id="" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500"></textarea>
                                            </div>

                                            
                                        </div>
                                        <button type="button" @click="soldier.editing = !soldier.editing; dataMaster.autoSave()"
                                            class="w-full hoverPop bg-indigo-800 hover:bg-indigo-900 p-3 rounded-xl ring-2 ring-indigo-500  h-1/2">Complete Edits</button>
                                        
                                    </div>

                                    <div class="flex flex-col gap-2 ml-auto" v-if="!soldier.editing">
                                        <button type="button" @click="army.swapOut(index, (index-1)); dataMaster.autoSave()"
                                            class="hoverPop bg-indigo-800 hover:bg-indigo-900 p-2 rounded-xl ring-2 ring-indigo-500 h-1/2">⮝</button>
                                        <button type="button" @click="army.swapOut(index, (index+1)); dataMaster.autoSave()"
                                            class="hoverPop bg-indigo-800 hover:bg-indigo-900 p-2 rounded-xl ring-2 ring-indigo-500  h-1/2">⮟</button>
                                    </div>
                                    <div class="flex flex-row gap-2" v-if="!soldier.editing">
                                        <button type="button" @click="soldier.editing = !soldier.editing"
                                            class="w-1/3 hoverPop bg-indigo-800 hover:bg-indigo-900 p-3 rounded-xl ring-2 ring-indigo-500  h-1/2">Edit</button>
                                        <button type="button" @click="army.chargeIn(index); dataMaster.autoSave()"
                                            class="hoverPop bg-indigo-800 hover:bg-indigo-900 p-3 rounded-xl ring-2 ring-indigo-500 h-1/2" v-if="army.soldiers.length < 9">Activate</button>
                                        <button type="button" @click="army.deleteInactiveSoldier(index); dataMaster.autoSave()"
                                            class="hoverPop bg-red-700 hover:bg-red-800 py-3 px-5 rounded-xl ring-2 ring-red-900 h-1/2">X</button>
                                    </div>

                                </div>

                                <div class="bg-slate-900 text-white rounded-2xl ring-2 ring-cyan-600 flex items-center p-4 space-x-4"
                                    @click="army.addInactiveSoldier()" v-if="army.inactiveSoldiers.length < 9">
                                    <img src="Resources/DemonIcon.png" alt="icon"
                                        class="h-16 w-16 rounded-full ring-2 ring-white pixel-art" />
                                    <div class="flex flex-col gap-2 space-y-1">

                                        <div class="w-full h-3/4 flex flex-row justify-between items-center gap-2">
                                            <p class="text-xl text-white font-bold">New Soldier+</p>

                                        </div>


                                    </div>

                                </div>

                            </div>


                        </div>
                    </div>
                </div>

            </div>



            <!-- Demon Editor -->
            <div class="w-3/4 h-full" v-if="activePage === 'Editor'">
                <div class="h-full">


                    <!-- Top bar -->
                    <div class="w-full" style="height: 6.66%;">
                        <div class="h-full flex gap-2 p-1">
                            <div
                                class="rounded-xl bg-gray-800 h-full w-2/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <p class="text-white font-bold text-center text-3xl align-middle">Rise of the New World <span class="text-xs">v 1.0</span>
                                </p>
                            </div>
                            <div @click="activePage = 'Sheet'" v-if="unlockedTabs[0]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/SheetIcon.png"
                                    class="h-full aspect-square object-cover p-1 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Sheet</p>
                            </div>
                            <div @click="activePage = 'Demons'" v-if="unlockedTabs[1]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/DemonIcon.png"
                                    class="h-full aspect-square object-cover p-2 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Demons</p>
                            </div>
                            <div @click="activePage = 'Army'" v-if="unlockedTabs[2]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/ArmyIcon.png"
                                    class="h-full aspect-square object-cover p-2 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Army</p>
                            </div>
                            <div @click="activePage = 'Editor'" v-if="unlockedTabs[3]"
                                class="hoverPop rounded-xl bg-gray-800 h-full w-1/6 box-shadow ring-2 ring-indigo-500 align-middle flex items-center justify-center">
                                <img src="./Resources/EditIcon.png"
                                    class="h-full aspect-square object-cover p-2 pixel-art" alt="">
                                <p class="text-white font-bold text-center text-3xl align-middle">Edit</p>
                            </div>
                        </div>
                    </div>

                    <div class="w-full flex flex-row gap-2 p-2" style="height: 93.33%;">
                        <div
                            class="bg-gradient-to-r from-blue-950 to-cyan-800 w-full h-full rounded-2xl ring-2 ring-indigo-500 flex flex-col overflow-y-scroll pt-5 px-3 pb-3">

                            <div class="px-3">
                                <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-2 border-indigo-500">
                                    Identity
                                </p>
                            </div>


                            <div class="flex flex-row h-1/4">

                                <div class="p-4 h-full aspect-square">
                                    <img :src="activeDemon.icon"
                                        class="h-full aspect-square object-cover rounded-full ring-4 totalBackground ring-slate-500 pixel-art"
                                        alt="">
                                </div>
                                <div class="flex flex-col px-3 gap-2 flex-wrap w-full">

                                    <!-- Name -->
                                    <label for="nameBox"
                                        class="border-b-22 border-indigo-500 font-bold text-white">Name:</label>
                                    <input type="text" v-model="activeDemon.name" name="" id="nameBox" @change="dataMaster.autoSave()"
                                        class=" h-1/4 bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400">

                                    <!-- Race -->
                                    <label for="raceBox"
                                        class="border-b-22 border-indigo-500 font-bold text-white">Race:</label>
                                    <input type="text" v-model="activeDemon.race" name="" id="raceBox" @change="dataMaster.autoSave()"
                                        class=" h-1/4 bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400">

                                    <!-- Icon URL -->
                                    <label for="IconBox"
                                        class="border-b-22 border-indigo-500 font-bold text-white">IconURL:</label>
                                    <input type="text" v-model="activeDemon.icon" name="" id="IconBox" @change="dataMaster.autoSave()"
                                        class=" h-1/4 bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400">

                                    <!-- Alignment -->
                                    <label for="alignmentBox"
                                        class="border-b-22 border-indigo-500 font-bold text-white">Alignment:</label>
                                    <input type="text" v-model="activeDemon.alignment" name="" id="alignmentBox" @change="dataMaster.autoSave()"
                                        class=" h-1/4 bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400">

                                </div>
                                    
                            </div>

                            <!-- Description -->
                            <div class="flex flex-row gap-2 min-h-64 px-3 mb-1">
                                <div class="w-1/3 flex flex-col gap-1 h-full">
                                    <label for="descriptionBox"
                                        class=" border-b-2 border-indigo-500 font-bold text-white">Demon Description:</label>
                                    <textarea type="text" v-model="activeDemon.description" name="" id="descriptionBox" @change="dataMaster.autoSave()" placeholder="Lore about this demon..."
                                        class="h-full bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400 resize-none"> </textarea>
                                </div>
                                <div class="w-1/3 flex flex-col gap-1 h-full">
                                    <label for="descriptionBox" class="border-b-2 border-indigo-500 font-bold text-white">Demon Birthrights:</label>
                                    <div class="flex flex-row flex-wrap bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400 overflow-y-auto h-full">
                                        <div class="flex flex-col p-1 w-1/2" v-for="(birthright, index) in activeDemon.birthrights">
                                            <!-- <input for="" class="border-b-2 mb-2 border-indigo-500 font-bold text-white bg-transparent" placeholder="Roll Name" @change="activeDemon.getVariables();dataMaster.autoSave()"> -->
                                            <input type="text" v-model="activeDemon.birthrights[index]" name=""
                                                class=" h-1/4 bg-sky-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400" placeholder="+"
                                                @change="() => { activeDemon.getVariables(); dataMaster.autoSave(); if (activeDemon.birthrights[index] === '') activeDemon.birthrights.splice(index, 1); }">
                                        </div>
                                        <div class="w-1/2 min-h-16 p-2 font-semibold" v-if="activeDemon.birthrights.length < 10"
                                            @click="activeDemon.birthrights.push('+');">
                                            <div class="text-white rounded-lg bg-gradient-to-r from-sky-950 to-blue-900 max-h-full w-full ring-1 ring-white p-2">
                                                +New Birthright 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="w-1/3 flex flex-col gap-1 h-full">
                                    <label for="descriptionBox" class="border-b-2 border-indigo-500 font-bold text-white">Demon Tags:</label>
                                    <div class="overflow-y-auto h-full bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400" >
                                        <div class="flex flex-wrap gap-2 ">
                                            <input type="text" v-model="activeDemon.newTag" class="w-full text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 mb-1 ring-1 ring-indigo-500" placeholder="Add Tag..." @change="() => {if (activeDemon.newTag != '') { activeDemon.keywords.push(activeDemon.newTag); activeDemon.newTag = ''; dataMaster.autoSave(); }}">
                                            <p v-for="(keyword, index) in activeDemon.keywords" @click="activeDemon.keywords.splice(index, 1); dataMaster.autoSave()" :key="index" class="text-white text-lg font-thin rounded-2xl bg-gradient-to-r from-sky-950 to-blue-900 px-2 ring-1 hover:ring-2 ring-indigo-500 hover:ring-red-500 min-h-1">
                                                {{ keyword }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="px-5 pt-5">
                                <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-2 border-indigo-500">
                                    Equipment</p>
                            </div>

                            <div class="flex flex-row gap-2 max-h-32 p-2">


                                <!-- Weapon and Armor -->

                                <div
                                    class="bg-gray-800 rounded-2xl w-1/2 flex flex-row items-center gap-2 ring-2 ring-indigo-500 p-2">
                                    <div
                                        class="h-full bg-blue-950 aspect-square rounded-lg object-cover mb-1 border-2 border-indigo-500 shadow-lg shadow-indigo-500/50 hover:shadow-3xl">
                                        <img :src="'./Resources/WeaponIcon.png'" class="pulsingFilter" />
                                    </div>
                                    <div class="flex flex-col">
                                        <label for="IconBox"
                                            class="border-b-22 border-indigo-500 font-bold text-white">Weapon
                                            Name:</label>
                                        <input type="text" name="" id="" @change="dataMaster.autoSave()"
                                            class="bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400"
                                            v-model="activeDemon.weapon.name">
                                    </div>
                                    <div class="flex flex-col">
                                        <label for="IconBox"
                                            class="border-b-22 border-indigo-500 font-bold text-white">Description:</label>
                                        <input type="text" name="" id="" @change="dataMaster.autoSave()"
                                            class="bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400"
                                            v-model="activeDemon.weapon.description">
                                    </div>

                                </div>


                                <!-- Armor -->
                                <div
                                    class="bg-gray-800 rounded-2xl w-1/2 flex flex-row items-center gap-2 ring-2 ring-indigo-500 p-2">

                                    <!-- Armor Icon -->
                                    <div
                                        class="h-full bg-blue-950 aspect-square rounded-lg object-cover mb-1 border-2 border-indigo-500 shadow-lg shadow-indigo-500/50 hover:shadow-3xl">
                                        <img :src="'./Resources/ArmorIcon.png'" class="pulsingFilter" />
                                    </div>

                                    <!-- Armor Name -->
                                    <div class="flex flex-col w-1/4">
                                        <label for="IconBox"
                                            class="border-b-22 border-indigo-500 font-bold text-white">Armor
                                            Name:</label>
                                        <input type="text" name="" id="" @change="dataMaster.autoSave()"
                                            class="bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400"
                                            v-model="activeDemon.armor[0]">
                                    </div>

                                    <!-- Armor Defense -->
                                    <div class="flex flex-col w-1/4">
                                        <label for="IconBox"
                                            class="border-b-22 border-indigo-500 font-bold text-white">Armor
                                            Defense:</label>
                                        <input type="number" name="" id="" @change="dataMaster.autoSave()"
                                            class="bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400 appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none"
                                            v-model.number="activeDemon.armor[1]">
                                    </div>

                                    <div class="flex flex-col w-1/4">
                                        <label for="IconBox"
                                            class="border-b-22 border-indigo-500 font-bold text-white">Armor
                                            Evasion:</label>
                                        <input type="number" name="" id="" @change="dataMaster.autoSave()"
                                            class="bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400 appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none"
                                            v-model.number="activeDemon.armor[2]">
                                    </div>

                                </div>
                            </div>

                            <div class="flex flex-row gap-2 w-full p-2 max-h-32">
                                <div class="bg-gray-800 rounded-2xl flex flex-row items-center gap-2 ring-2 ring-indigo-500 p-2"
                                    style="width: 33%;" v-for="(accessory, index) in activeDemon.accessories">

                                    <!-- Icon -->
                                    <div
                                        class="h-full max-w-1/3 bg-blue-950 aspect-square rounded-lg object-cover mb-1 border-2 border-indigo-500 shadow-lg shadow-indigo-500/50 hover:shadow-3xl">
                                        <img :src="'./Resources/AccessoryIcon.png'" class="pulsingFilter" />
                                    </div>

                                    <!-- Info -->
                                    <div class="flex flex-col w-1/3">
                                        <label for="IconBox"
                                            class="border-b-22 border-indigo-500 font-bold text-white">Acc. {{index+1}}
                                            Name:</label>
                                        <input type="text" name="" id=""  @change="dataMaster.autoSave()"
                                            class="bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400" 
                                            v-model="activeDemon.accessories[index][0]">
                                    </div>
                                    <div class="flex flex-col w-1/3">
                                        <label for="IconBox"
                                            class="border-b-22 border-indigo-500 font-bold text-white">Acc. {{index+1}}
                                            Effect:</label>
                                        <input type="text" name="" id="" @change="activeDemon.getVariables(); dataMaster.autoSave()"
                                            class="bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400" @change="activeDemon.recalculateVitals()"
                                            v-model="activeDemon.accessories[index][1]">
                                    </div>

                                </div>
                            </div>
                            <!-- <div class="flex flex-row w-full">  test  test test</div> -->


                            <div class="px-5 pt-5">
                                <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-2 border-indigo-500">Stats
                                </p>
                            </div>


                            <div class="flex flex-row h-1/4">
                                <div class="flex flex-row flex-wrap px-5 flex-wrap w-full items-center justify-center">

                                    <!-- HP -->
                                    <div class="flex flex-col" style="width: 24%;">
                                        <label for="hpBox"
                                            class="border-b-2 mb-2 border-indigo-500 font-bold text-white">HP:</label>
                                        <input type="text" v-model.number="activeDemon.hp" name="" id="hpBox"  @change="dataMaster.autoSave()"
                                            class=" h-1/4 bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400">
                                    </div>

                                    <!-- Max HP -->
                                    <div class="flex flex-col" style="width: 24%;">
                                        <label for="maxHpBox"
                                            class="border-b-2 mb-2 border-indigo-500 font-bold text-white">Max
                                            HP:</label>
                                        <input type="text" v-model.number="activeDemon.maxHp" name="" id="maxHpBox"  @change="dataMaster.autoSave()"
                                            class=" h-1/4 bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400">
                                    </div>

                                    <!-- MP -->
                                    <div class="flex flex-col" style="width: 24%;">
                                        <label for="mpBox"
                                            class="border-b-2 mb-2 border-indigo-500 font-bold text-white">MP:</label>
                                        <input type="text" v-model.number="activeDemon.mp" name="" id="mpBox"  @change="dataMaster.autoSave()"
                                            class=" h-1/4 bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400">
                                    </div>

                                    <!-- Max HP -->
                                    <div class="flex flex-col" style="width: 24%;">
                                        <label for="maxMpBox"
                                            class="border-b-2 mb-2 border-indigo-500 font-bold text-white">Max
                                            MP:</label>
                                        <input type="text" v-model.number="activeDemon.maxMp" name="" id="maxMpBox"  @change="dataMaster.autoSave()"
                                            class=" h-1/4 bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400">
                                    </div>

                                </div>
                            </div>

                            <!-- Stats -->
                            <div class="flex flex-row h-1/4 mt-5">
                                <div class="flex flex-row flex-wrap px-5 flex-wrap w-full items-center justify-center">

                                    <!-- Stats for -->
                                    <div class="flex flex-col" style="width: 19%;"
                                        v-for="(stat, index) in activeDemon.stats">
                                        <label for="statBox"
                                            class="border-b-2 mb-2 border-indigo-500 font-bold text-white">
                                            {{["Stength", "Magic", "Vitality", "Agility", "Luck"][index]}} </label>
                                        <input type="text" v-model.number="activeDemon.stats[index]" @change="activeDemon.recalculateVitals(); dataMaster.autoSave()" name=""
                                            id="statBox"
                                            class=" h-1/4 bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400">
                                    </div>


                                </div>
                            </div>

                            <!-- Stats Growth Rate-->
                            <div class="flex flex-row h-1/4 mt-5">
                                <div class="flex flex-row flex-wrap px-5 flex-wrap w-full items-center justify-center">

                                    <!-- Stats for -->
                                    <div class="flex flex-col" style="width: 19%;"
                                        v-for="(growthRate, index) in activeDemon.growthRates">
                                        <label for="hpBox"
                                            class="border-b-2 mb-2 border-indigo-500 font-bold text-white">
                                            {{["Stength", "Magic", "Vitality", "Agility", "Luck"][index]}} Growth Rate
                                        </label>
                                        <input type="text" v-model.number="activeDemon.growthRates[index]" name=""
                                            id="hpBox"  @change="dataMaster.autoSave()"
                                            class=" h-1/4 bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400">
                                    </div>


                                </div>
                            </div>


                            <div class="px-5 pt-5">
                                <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-2 border-indigo-500">Weapon and Skills</p>
                            </div>

                            <div class="px-5 max-h-200">
                                <div class="overflow-x-scroll h-full p-2 gap-2 p-3 flex flex-row" style="height: calc(50vh);" >
                                    <div class="bg-blue-950 text-white p-3 rounded-xl ring-2 ring-cyan-400 max-h-64 overflow-y-scroll min-h-full min-w-[25vw]"
                                        v-for="(skill, index) in [this.activeDemon.weapon, ...this.activeDemon.skills]" :class="index === 0 ? 'ring-yellow-300' : ''">


                                        <div class="" v-if="index === 0">
                                            <p class="text-2xl font-bold text-amber-400 border-b-2 mb-2 border-indigo-500">Weapon</p>

                                        </div>

                                        <div class="flex flex-col my-3">
                                            <label v-if="index === 0" for="" class="border-b-2 mb-2 border-indigo-500 font-bold text-white">Weapon Name:</label>
                                            <label v-if="index != 0" for="" class="border-b-2 mb-2 border-indigo-500 font-bold text-white">Skill Name:</label>
                                            
                                            <div class="flex flex-row items-center h-full gap-2">
                                                
                                                <!-- Extra -->
                                                <div class="aspect-square w-1/6 ring-1 ring-indigo-500 rounded-2xl">
                                                    <img :src="'./Resources/WeaponIcon.png'" class="pulsingFilter" v-if="index === 0" />
                                                    <img :src="'./Resources/AffinityIcon' + (skill.skillType) + '.png'" class="pulsingFilter" v-if="index != 0 && skill.skillType" />
                                                </div>
                                                
                                                
                                                

                                                <!-- Original -->
                                                <!-- <div class="w-1/6 bg-blue-950 aspect-square rounded-lg object-cover mb-1 border-2 border-indigo-500 shadow-lg shadow-indigo-500/50 hover:shadow-3xl hoverPop tooltip"> -->
                                                    
                                                <input type="text" v-model="skill.name" class="w-5/6 h-full bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400"  v-if="index === 0"  @change="dataMaster.autoSave()">
                                                <input type="text" v-model="skill.name" class="w-1/2 h-full bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400"  v-if="index != 0"  @change="dataMaster.autoSave()">
                                                
                                                <select type="text" v-model.number="skill.skillType" name=""  class="w-1/3 h-full bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400" v-if="index != 0"  @change="dataMaster.autoSave()">
                                                    <option value="0">No Icon</option>
                                                    <option :value="index+1" v-for="(affinity, index) in ['Strike', 'Slash', 'Pierce', 'Fire', 'Ice', 'Electricity', 'Force', 'Toxic', 'Psionic', 'Light', 'Gloom', 'Almighty', 'Ailment', 'Healing', 'Tactical']">{{affinity}}</option>
                                                </select>
                                                
                                            </div>
                                                
                                        </div>

                                        <div class="flex flex-col my-3">
                                            <label for="" class="border-b-2 mb-2 border-indigo-500 font-bold text-white">Skill Description:</label>
                                            <textarea v-model.number="skill.description" @change="activeDemon.recalculateVitals(); dataMaster.autoSave()" name=""  class=" h-1/4 bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-100 max-h-32" > </textarea>
                                        </div>

                                        <div class="flex flex-row flex-wrap">
                                            <div class="flex flex-col w-1/2" v-for="(roll, index) in skill.rolls" >
                                                <input for="" class="border-b-2 mb-2 border-indigo-500 font-bold text-white bg-transparent" v-model="skill.rollNames[index]" placeholder="Roll Name" @change="skill.checkRolls(); activeDemon.getVariables();dataMaster.autoSave()">
                                                <input type="text" v-model="skill.rolls[index]" name=""  class=" h-1/4 bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400" placeholder="Roll" @change="skill.checkRolls(); activeDemon.getVariables();dataMaster.autoSave()">
                                            </div>
                                            <div class="w-1/2 min-h-16 p-2 font-semibold" v-if="skill.rolls.length < 10" @click=" skill.rolls.push('/'); skill.rollNames.push('');">
                                                <div class="rounded-lg bg-gradient-to-r from-sky-950 to-blue-900 h-full w-full ring-1 ring-white p-2">
                                                    +New Roll
                                                </div>
                                                
                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="px-5 pt-5">
                                <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-2 border-indigo-500">
                                    Affinities
                                </p>
                            </div>
                            <div class="flex flex-row gap-2 h-1/4 p-2">
                                <div class="" v-for="(affinity, index) in activeDemon.affinities">
                                    <div
                                        class="w-full bg-blue-950 aspect-square rounded-lg object-cover mb-1 border-2 border-indigo-500 shadow-lg shadow-indigo-500/50 hover:shadow-3xl tooltip">
                                        <img :src="'./Resources/AffinityIcon' + (index+1) + '.png'"
                                            class="pulsingFilter" />
                                        <span class="tooltiptext">{{['Strike', 'Slash', 'Pierce', 'Fire', 'Ice', 'Electricity', 'Force', 'Toxic', 'Psionic', 'Light', 'Gloom'][index]}}</span>
                                    </div>
                                    <select :id="affinity" v-model="activeDemon.affinities[index]" @change="dataMaster.autoSave()"
                                        class="w-full rounded-2xl h-1/4 text-center text-xl font-bold bg-blue-950 border-2 border-indigo-500 text-emerald-400 text-xl font-bold">
                                        <option value="-">-</option>
                                        <option value="Wk">Wk</option>
                                        <option value="Str">Str</option>
                                        <option value="Nul">Nul</option>
                                        <option value="Drn">Drn</option>
                                        <option value="Rpl">Rpl</option>
                                    </select>
                                </div>
                            </div>


                            <!-- Skill Potential -->

                            <div class="px-5 pt-5">
                                <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-2 border-indigo-500">Skill
                                    Potential</p>
                            </div>
                            <div class="flex flex-row gap-2 h-1/4 p-2">
                                <div class="" v-for="(potential, index) in activeDemon.skillPotential">
                                    <div
                                        class="w-full bg-blue-950 aspect-square rounded-lg object-cover mb-1 border-2 border-indigo-500 shadow-lg shadow-indigo-500/50 hover:shadow-3xl tooltip">
                                        <img :src="'./Resources/AffinityIcon' + (index+1) + '.png'"
                                            class="pulsingFilter" />
                                        <span class="tooltiptext">{{['Strike', 'Slash', 'Pierce', 'Fire', 'Ice', 'Electricity', 'Force', 'Toxic', 'Psionic', 'Light', 'Gloom', 'Almighty', 'Ailment', 'Healing', 'Tactical'][index]}}</span>
                                    </div>
                                    <input type="number" name="" id=""
                                        v-model.number="activeDemon.skillPotential[index]" @change="dataMaster.autoSave()"
                                        class="w-full rounded-2xl h-1/4 text-center text-xl font-bold bg-blue-950 border-2 border-indigo-500 text-emerald-400 text-xl font-bold appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none">

                                </div>
                            </div>


                            <div class="px-5 pt-5 w-full ">
                                <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-2 border-indigo-500">Demon Contract</p>
                                <p class="text-md font-semibold text-white mb-2 ">Copies of the contact are kept by both the player and DM, any edits must be made with the DM's permission to alter both copies. Player characters do not have contracts</p>
                            </div>


                            <div class="w-full flex flex-col gap-1 px-5 h-full min-h-64">
                                    <label for="descriptionBox"
                                        class="border-b-2 border-indigo-500 font-bold text-white">Demon Contract:</label>
                                    <textarea type="text" v-model="activeDemon.contract" name="" id="descriptionBox" @change="dataMaster.autoSave()"
                                        class="h-full bg-blue-950 text-white p-2 rounded-3xl ring-1 ring-cyan-400 resize-none"> </textarea>
                            </div>

                            <!-- XP and Levels -->

                            <div class="px-5 pt-5">
                                <p class="text-4xl font-bold text-emerald-400 border-b-2 mb-2 border-indigo-500">XP and
                                    Levels</p>
                                <p class="text-md font-semibold text-white mb-2 ">Warning! - this is not the recommended
                                    way to level up. Please use the /exp command and click your stats. Messing here
                                    should only be done under instruction of the game master. Altering these will not immediately autosave, to prevent errors</p>
                            </div>



                            <div class="flex flex-row h-1/4">
                                <div class="flex flex-row flex-wrap px-5 flex-wrap w-full items-center justify-center">

                                    <!-- HP -->
                                    <div class="flex flex-col w-1/4">
                                        <label for="expBox"
                                            class="border-b-2 mb-2 border-indigo-500 font-bold text-white">EXP:</label>
                                        <input type="text" v-model.number="activeDemon.exp" name="" id="expBox"
                                            class=" h-1/4 bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400">
                                    </div>

                                    <!-- Max HP -->
                                    <div class="flex flex-col w-1/4">
                                        <label for="maxExpBox"
                                            class="border-b-2 mb-2 border-indigo-500 font-bold text-white">Max
                                            EXP:</label>
                                        <input type="text" v-model.number="activeDemon.maxExp" name="" id="maxExpBox"
                                            class=" h-1/4 bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400">
                                    </div>

                                    <!-- MP -->
                                    <div class="flex flex-col w-1/4">
                                        <label for="levelBox"
                                            class="border-b-2 mb-2 border-indigo-500 font-bold text-white">Level:</label>
                                        <input type="text" v-model.number="activeDemon.level" name="" id="levelBox"
                                            class=" h-1/4 bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400">
                                    </div>

                                    <!-- Max HP -->
                                    <div class="flex flex-col w-1/4">
                                        <label for="availablePointsBox"
                                            class="border-b-2 mb-2 border-indigo-500 font-bold text-white">Available
                                            Points:</label>
                                        <input type="text" v-model.number="activeDemon.availablePoints" name=""
                                            id="availablePointsBox"
                                            class=" h-1/4 bg-blue-950 text-white p-4 rounded-3xl ring-1 ring-cyan-400">
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>

            </div>


            <!-- The Log -->
            <div class="h-full w-1/4 p-1">
                <div
                    class="bg-gray-800 rounded-xl box-shadow ring-2 ring-indigo-500 flex flex-col items-center justify-center h-full w-full text-white font-semibold">
                    <div id="messageLog" class="w-full overflow-y-scroll  rounded-xl" style="height: 90%;" >
                        <div >
                            <div v-for="(l, index) in log" :key="index" class="text-white break-all p-1"
                                :class="index % 2 === 0 ? 'bg-gray-700' : 'bg-gray-800'">
                                <p class="text-lg select-text whitespace-pre-wrap">{{ l }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-blue-100 w-full flex flex-row rounded-b-xl border-t-4 border-indigo-500"
                        style="height: 10%;">
                        <textarea v-model="messageInput" @keydown.enter.prevent="sendMessage" maxlength="100"
                            class="w-5/6 bg-blue-950 resize-none text-emerald-400 rounded-bl-xl border-r-2 border-indigo-500 px-1 "
                            name="" id="" placeholder="Write /help for a list of commands"></textarea>
                        <button @click="sendMessage" class="w-1/6 bg-indigo-700 hover:bg-indigo-800 text-4xl text-white font-bold py-2 px-4 rounded-br-xl textOutlineBlackThin"> ➣ </button>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="bg-black lg:hidden h-screen">
        <p class="text-white font-bold h-full w-full text-center">Your device does not support this game. Please try a
            high resolution monitor or laptop.</p>
    </div>

</body>

</html>